{% for question in questions %}
<div class="question-box">
    <h2>Question: {{ question.question_number }}</h2>
    <h4>{{ question.question_content | replace("\n", "<br/>") | safe}}</h4>
    <p class="page-link grey-link">
    Show solution
        <img style="display: none" src="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7" onload="console.log('a');fetch('/video', {method: 'POST',headers: {'Content-Type': 'application/json'}, body: JSON.stringify({'text': '{{ question.question_content }}', 'num': {{loop.index}} }), }).then(response => { if (!response.ok) { document.getElementById('solution-{{loop.index}}').classList.remove('grey-link'); document.getElementById('solution-{{loop.index}}').classList.add('red-link'); return; } document.getElementById('solution-{{loop.index}}').addEventListener('click', () => { createPopoutVideo('/static/Solution{{loop.index}}.mp4') }); document.getElementById('solution-{{loop.index}}').classList.remove('grey-link'); })"/>
    </p>

    <!--
    <p class="page-link" onclick=createPopoutText("{{ url_for('static', filename='Solution' + loop.index|string + '.txt') }}")>
      Show solution text
    </p><div class="loader-container">
        <div class="loader"></div>
    </div>-->

    <ul>
        {% for topic in question.topics %}
        <li>{{topic}}</li>
        {% endfor %}
    </ul>
    <ul style="list-style-type:circle;">
        {% for pageset in question.pages %}
        <li>
            <u>
                <p class="page-link" onclick="scrollToPDFPage({{ pageset.start_page }})">
                    Pages {{ pageset.start_page }}-{{ pageset.end_page }}
                </p></u>
        </li>
        {% endfor %}
    </ul>
</div>
{% endfor %}
